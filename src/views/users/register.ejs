<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head') %>

</head>
<body>
<%- include('../partials/header') %>
<main>
  <form class="register-form" action="/user/register" method="post" enctype="multipart/form-data" id = "form-register">
    

    <h3 class="register-tittle">
      Crear nueva cuenta
    </h3>


      <label for="name" class="text-labe">Nombre: </label>
      <input type="text" 
      id="name" 
      name="name" 
      placeholder="Nombres"
      class="register-input" 
      value="<%= locals.oldBody && oldBody.name? oldBody.name:'' %>"
      />

    <% if (locals.error && error.name)  { %>
     <p><%= error.name.msg %></p>
    <% } %>

      <label for="lastname" class="text-labe">Apellido: </label>
      <input
        type="text"
        id="lastname"
        name="lastname"
        placeholder="Ingresa tu apellido"
        minlength="4"
        class="register-input"
        value="<%= locals.oldBody && oldBody.lastname? oldBody.lastname:'' %>"
      />

      <% if (locals.error && error.lastname)  { %>
        <p><%= error.lastname.msg %></p>
       <% } %>
      
      <label for="email" class="text-labe">Correo Electrónico: </label>
      <input
      type="email"
      id="email"
      name="email"
        placeholder="Correo Electrónico"
        class="register-input"
      value="<%= locals.oldBody && oldBody.email? oldBody.email:'' %>"
      />

      <% if (locals.error && error.email)  { %>
        <p><%= error.email.msg %></p>
       <% } %>
      
      <label for="password" class="text-labe">Contraseña: </label>
      <input type="password" 
      id="password" 
      name="password" 
      class="register-input"
      placeholder="Ingresar contraseña"
      />

      <% if (locals.error && error.password)  { %>
        <p><%= error.password.msg %></p>
       <% } %>
      
      <label for="confirmPassword" class="text-labe">Confirmar Contraseña: </label>
      <input
      type="password"
      id="confirmPassword"
      name="confirmPassword"
      class="register-input"
      />

      <label for="image" class="text-labe">Ingresa una imagen: </label>
      <input
      type="file"
      id="image"
      name="image"
      class="register-input"
      />  
      <% if (locals.error && error.image) { %>
       <p><%= error.image.msg %></p>
      <% } %>

      <% if (locals.isAdmin) { %>
        <select name="category" id="">
          <option value="1">User</option>
          <option value="2">Admin</option>
        </select>
      <% } %>


      <button class="submit" type="submit" id="btn-register">Crear cuenta</button>
      <button class="submit" type="reset">Reiniciar Formulario</button>
    </form>
  </main>
  
  <%- include('../partials/footer') %>    
</body>

<script src="/js/userValidator.js"></script>
<script src="/js/userFunction.js"> </script>
</html>